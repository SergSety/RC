# Test

Тестовое задание для вакансии Developer (Backend). Реестр характеристик (RH)

- Start of the project:
  
При старте проекта автоматически создаются: Admin (pass = 12345), Journalist (pass = 12345), Subscriber (pass = 12345) в классе InitializeDB.

Конечные точки для изменения и удаления 'Customer' не создавались. 'Create (signup)' и 'Login' находятся в 'AuthController' (Security).

- Полнотекстовый поиск по тексту и заголовку новости:

Т.к. Заказчик не планирует разворачивать реальную базу данных для проверки тестового задания (PostgreSQL), реализован обычный поиск. В PostgreSQL имеются свои алгоритмы полнотекстового поиска и они не будут работать для Н2. По этой же причине не было реализовано разделение по профилям. В основном профиле, по сути, будет отличаться только application.properties с настройками для PostgreSQL.
  
- Security:

В Security нет Refresh token, User Device, Verification token, Reset password, Refresh ACCESS token, Login Attempt (Brute Force protection), подтверждения регистрации по email e.t.c. Только разграничение по ролям, согласно тестового задания.
  
В GlobalExceptionHandler обработка встроенных исключений представлена как пример. Реализуется по требованию Frontend.

Ограничение доступа к функционалу по ролям реализовано с помощью JWT token. Для удобства тестирования время жизни для token составляет 1 час.

Согласно тестового задания роли назначаются через запрос на регистрацию нового пользователя. Реализовано без необходимых проверок (в том числе и роль Администратора).

- data.sql:

Создано 20 новостей и по 10 комментариев для первых четырёх новостей.
  
- ehcache.xml:

В данном случае не нужен (настройки должны устанавливаться согласно системных требований полученных от службы эксплуатации Заказчика, настройки установлены в минимальном варианте). Можно реализовать Java конфигурацию или через аннотации. Предоставлен для примера.
  
Для проверки работы Cache был добавлен метод findById(). Информация о количестве обращений к Базе данных отображается в Log.

- Tests:

Тесты реализованы только для controller и service сущности News и для Security. Для остальных сущностей код будет аналогичным, и нет смысла его 'дублировать'. Для тестового задания этого достаточно.
  
- Comments:

Чтобы не 'загромождать' код, комментарии в нём представлены минимально. Основной смысл понятен из названий методов.
  
- Logging:

Логирование реализовано 'примерно'. Более детальные настройки предоставляются Заказчиком.
